# =============================================================================
# QIVO MINING PLATFORM - ENVIRONMENT VARIABLES
# =============================================================================
# Este arquivo contém todas as variáveis de ambiente necessárias para o
# funcionamento completo do QIVO Mining Platform.
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Preencha os valores reais de cada variável
# 3. NUNCA faça commit do arquivo .env (já está no .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# 1. BANCO DE DADOS
# -----------------------------------------------------------------------------
# URL de conexão com PostgreSQL (formato: postgresql://user:password@host:port/database)
DATABASE_URL=postgresql://user:password@host:5432/qivo_mining

# -----------------------------------------------------------------------------
# 2. AUTENTICAÇÃO E SEGURANÇA
# -----------------------------------------------------------------------------
# Segredo JWT para assinatura de tokens (mínimo 32 caracteres aleatórios)
JWT_SECRET=your-jwt-secret-change-in-production-min-32-chars

# Configurações OAuth Google
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://your-domain.com/api/auth/google/callback

# Configurações OAuth customizado
OAUTH_CLIENT_ID=your-oauth-client-id
OAUTH_CLIENT_SECRET=your-oauth-client-secret
OAUTH_SERVER_URL=https://your-oauth-server.com

# -----------------------------------------------------------------------------
# 3. PAGAMENTOS - STRIPE
# -----------------------------------------------------------------------------
# Chaves da API Stripe (obtenha em: https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Webhook secret do Stripe (obtenha em: https://dashboard.stripe.com/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# -----------------------------------------------------------------------------
# 4. ARMAZENAMENTO HÍBRIDO (Render Disk + BUILT_IN_FORGE)
# -----------------------------------------------------------------------------

# === RENDER PERSISTENT DISK (Principal) ===
# Habilitar uso do Render Disk para armazenamento local
USE_RENDER_DISK=true

# Caminho do Render Disk montado (configurar no Render Dashboard)
# Exemplo: /var/data/uploads
RENDER_DISK_PATH=/var/data/uploads

# === BUILT_IN_FORGE (Backup/CDN) ===
# URL da API Forge (fornecida pela Manus)
BUILT_IN_FORGE_API_URL=https://your-forge-api-url.com

# Chave de API Forge (fornecida pela Manus)
BUILT_IN_FORGE_API_KEY=your-forge-api-key

# === AWS S3 (Alternativo - Opcional) ===
# Credenciais AWS S3 (obtenha em: https://console.aws.amazon.com/iam/)
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key

# Configurações do bucket S3
S3_BUCKET=your-bucket-name
S3_REGION=sa-east-1

# -----------------------------------------------------------------------------
# 5. INTELIGÊNCIA ARTIFICIAL - OPENAI
# -----------------------------------------------------------------------------
# Chave da API OpenAI (obtenha em: https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-proj-your-openai-api-key

# URL da API OpenAI (opcional, use apenas se precisar de um endpoint customizado)
OPENAI_API_URL=https://api.openai.com/v1

# -----------------------------------------------------------------------------
# 6. GESTÃO DE PROJETOS - MANUS
# -----------------------------------------------------------------------------
# Chave de API do Manus (obtenha em: https://manus.ai/settings/api-keys)
MANUS_API_KEY=your-manus-api-key-here

# URL base da API Manus
# Padrão: https://api.manus.ai/v1
# Para Manus Runtime local: http://localhost:3000/api
MANUS_BASE_URL=https://api.manus.ai/v1

# Modo de teste (não cria tarefas reais no Manus)
# Valores: true | false
DRY_RUN=false

# -----------------------------------------------------------------------------
# 6.5. FEATURE FLAGS - COMPLIANCE & STANDARDS
# -----------------------------------------------------------------------------
# Feature flags para habilitar/desabilitar funcionalidades específicas

# === SEC S-K 1300 Standard ===
# Habilita o padrão SEC S-K 1300 para relatórios técnicos de mineração (EUA)
# - 11 seções obrigatórias
# - 80+ campos específicos
# - 10 KRCI rules (KRCI-001 a KRCI-010)
# Valores: true | false
# Padrão: false (feature em beta)
ENABLE_SEC_SK_1300=false

# === Official Government Integrations ===
# Habilita validação em tempo real com APIs governamentais brasileiras
# - ANM: Processos minerários
# - CPRM: Dados geológicos
# - IBAMA: Licenças ambientais
# - ANP: Concessões de petróleo/gás
# Valores: true | false
# Padrão: false (requer API keys configuradas)
ENABLE_OFFICIAL_INTEGRATIONS=false

# === Brazilian Compliance Fields ===
# Adiciona automaticamente 50+ campos regulatórios brasileiros em todos os relatórios
# - 20 KRCI rules brasileiras (KRCI-BR001 a KRCI-BR020)
# - Campos ANM, IBAMA, FUNAI, ANA, etc.
# Valores: true | false
# Padrão: true (sempre habilitado para projetos no Brasil)
ENABLE_BRAZILIAN_FIELDS=true

# -----------------------------------------------------------------------------
# 6.6. APIS DE DADOS DE MINERAÇÃO - OFICIAIS BRASIL
# -----------------------------------------------------------------------------
# Autenticação e acesso às APIs governamentais brasileiras (usadas quando ENABLE_OFFICIAL_INTEGRATIONS=true)

# === ANM - Agência Nacional de Mineração ===
# API oficial da ANM para validação de processos minerários
# Documentação: https://app.anm.gov.br/SIGMINE/API
# Endpoint: https://app.anm.gov.br/SIGMINE/api/v1/processos/{numero}
ANM_API_KEY=your-anm-api-key-here
ANM_API_URL=https://app.anm.gov.br/SIGMINE/api/v1
ANM_TIMEOUT_MS=10000
ANM_CACHE_TTL_SECONDS=86400

# === CPRM - Serviço Geológico do Brasil ===
# API da CPRM para validação de dados geológicos
# Documentação: https://geosgb.cprm.gov.br/api/docs
# Endpoint: https://geosgb.cprm.gov.br/api/v2/geology
CPRM_API_KEY=your-cprm-api-key-here
CPRM_API_URL=https://geosgb.cprm.gov.br/api/v2
CPRM_TIMEOUT_MS=10000
CPRM_CACHE_TTL_SECONDS=86400

# === IBAMA - Instituto Brasileiro do Meio Ambiente ===
# API do IBAMA para validação de licenças ambientais
# Documentação: https://servicos.ibama.gov.br/ctf/api/docs
# Endpoint: https://servicos.ibama.gov.br/licenciamento/api/v1/licencas/{numero}
IBAMA_API_KEY=your-ibama-api-key-here
IBAMA_API_URL=https://servicos.ibama.gov.br/licenciamento/api/v1
IBAMA_TIMEOUT_MS=10000
IBAMA_CACHE_TTL_SECONDS=86400

# === ANP - Agência Nacional do Petróleo ===
# API da ANP para validação de blocos e concessões de petróleo/gás
# Documentação: https://dados.anp.gov.br/api/docs
# Endpoint: https://dados.anp.gov.br/api/v1/blocos/{codigo}
ANP_API_KEY=your-anp-api-key-here
ANP_API_URL=https://dados.anp.gov.br/api/v1
ANP_TIMEOUT_MS=10000
ANP_CACHE_TTL_SECONDS=86400

# === Redis Cache (Opcional - Recomendado para produção) ===
# URL do Redis para cache de respostas das APIs governamentais
# Se não configurado, usa cache em memória (não persistente)
# Formato: redis://username:password@host:port
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=false

# === SIGMINE / ANM (Legacy - Deprecated) ===
# API da ANM para dados de processos minerários no Brasil
# NOTA: Use ANM_API_KEY acima. Esta variável será removida em versões futuras.
# Documentação: https://dados.gov.br/dados/conjuntos-dados/sigmine
SIGMINE_API_URL=https://api.anm.gov.br/sigmine/v1
SIGMINE_API_KEY=your-sigmine-api-key
SIGMINE_ENABLED=true

# === MapBiomas (Infraestrutura de Mineração) ===
# API do MapBiomas para dados de áreas de mineração
# Documentação: https://mapbiomas.org/api-docs
MAPBIOMAS_API_URL=https://api.mapbiomas.org/v1
MAPBIOMAS_API_KEY=your-mapbiomas-api-key
MAPBIOMAS_ENABLED=true

# -----------------------------------------------------------------------------
# 6.6. NOTIFICAÇÕES REGULATÓRIAS
# -----------------------------------------------------------------------------
# Sistema de notificações para mudanças regulatórias no Radar

# === SLACK ===
# Webhook URL do Slack (obtenha em: https://api.slack.com/messaging/webhooks)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_ENABLED=true
SLACK_CHANNEL_NAME=regulatory-updates

# === MICROSOFT TEAMS ===
# Webhook URL do Teams (configure em: Canal → Conectores → Incoming Webhook)
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/WEBHOOK/URL
TEAMS_ENABLED=true
TEAMS_CHANNEL_NAME=Regulatory Updates

# === DISCORD ===
# Webhook URL do Discord (configure em: Configurações do Canal → Integrações → Webhooks)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL
DISCORD_ENABLED=true
DISCORD_CHANNEL_NAME=regulatory-updates

# === WEBHOOK CUSTOMIZADO ===
# URL de webhook customizado para receber notificações em formato JSON
CUSTOM_WEBHOOK_URL=https://your-custom-webhook.com/notifications
CUSTOM_WEBHOOK_ENABLED=false
CUSTOM_WEBHOOK_NAME=Custom Webhook

# -----------------------------------------------------------------------------
# 7. CONFIGURAÇÃO DA APLICAÇÃO
# -----------------------------------------------------------------------------
# Ambiente de execução (development, production, test)
NODE_ENV=production

# Ambiente Flask (development, production)
FLASK_ENV=production

# Porta do servidor (padrão: 5050 para Render, 3000 para desenvolvimento local)
PORT=5050

# -----------------------------------------------------------------------------
# 8. FRONTEND - VITE
# -----------------------------------------------------------------------------
# ID do projeto
VITE_APP_ID=qivo-mining-prod

# Título da aplicação
VITE_APP_TITLE=QIVO Mining

# URL do logo da aplicação
VITE_APP_LOGO=https://your-domain.com/logo.png

# URL do portal OAuth
VITE_OAUTH_PORTAL_URL=https://your-oauth-portal.com

# Analytics (opcional)
VITE_ANALYTICS_ENDPOINT=https://your-analytics-endpoint.com
VITE_ANALYTICS_WEBSITE_ID=your-analytics-website-id

# =============================================================================
# NOTAS IMPORTANTES
# =============================================================================
# 
# SEGURANÇA:
# - NUNCA compartilhe suas chaves de API publicamente
# - Use valores diferentes para desenvolvimento e produção
# - Rotacione suas chaves regularmente
# - Use variáveis de ambiente do Render/Vercel em produção
# 
# DESENVOLVIMENTO LOCAL:
# - Para desenvolvimento, você pode usar valores de teste
# - Para Stripe, use chaves de teste (sk_test_* e pk_test_*)
# - Para OpenAI, use uma chave com limite de uso baixo
# 
# PRODUÇÃO:
# - Configure as variáveis diretamente no Render Dashboard
# - Acesse: https://dashboard.render.com/web/srv-*/env
# - Ou use: render.yaml para configuração via código
# 
# DOCUMENTAÇÃO:
# - Para mais detalhes, consulte: docs/ENVIRONMENT_VARIABLES.md
# 
# =============================================================================

