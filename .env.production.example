# QIVO Mining - Production Environment Variables
# Copy this file to .env.production and fill in the actual values

# ============================================
# APPLICATION
# ============================================
NODE_ENV=production
PORT=8080
FRONTEND_URL=https://qivomining.com
BACKEND_URL=https://api.qivomining.com

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Use Cloud SQL or managed PostgreSQL service
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/qivo_mining_prod?schema=public&sslmode=require
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================
# REDIS CACHE
# ============================================
# Use Cloud Memorystore (GCP) or Redis Cloud
REDIS_URL=redis://USER:PASSWORD@HOST:6379
REDIS_TLS=true
REDIS_PASSWORD=your_redis_password_here

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate with: openssl rand -base64 64
JWT_SECRET=your_jwt_secret_here_minimum_64_characters_long
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ============================================
# OAUTH - GOOGLE
# ============================================
GOOGLE_CLIENT_ID=your_google_client_id_here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=https://api.qivomining.com/api/auth/google/callback

# ============================================
# STRIPE PAYMENTS
# ============================================
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_START_MONTHLY=price_start_monthly_id
STRIPE_PRICE_START_ANNUAL=price_start_annual_id
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_id
STRIPE_PRICE_PRO_ANNUAL=price_pro_annual_id
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
STRIPE_PRICE_ENTERPRISE_ANNUAL=price_enterprise_annual_id

# One-time report prices
STRIPE_PRICE_REPORT_SIMPLIFIED=price_report_simplified_id
STRIPE_PRICE_REPORT_TECHNICAL=price_report_technical_id
STRIPE_PRICE_REPORT_ESG=price_report_esg_id

# ============================================
# EMAIL SERVICE
# ============================================
# Choose one: sendgrid, mailgun, or smtp
EMAIL_SERVICE=sendgrid
EMAIL_FROM=noreply@qivomining.com

# SendGrid
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here

# Mailgun (alternative)
# MAILGUN_SMTP_USER=postmaster@mg.qivomining.com
# MAILGUN_SMTP_PASSWORD=your_mailgun_password_here

# Custom SMTP (alternative)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password_here

# ============================================
# OFFICIAL INTEGRATIONS - BRAZIL
# ============================================
# ANM (Agência Nacional de Mineração)
ANM_API_KEY=your_anm_api_key_here
ANM_API_URL=https://api.anm.gov.br/v1

# CPRM (Serviço Geológico do Brasil)
CPRM_API_KEY=your_cprm_api_key_here
CPRM_API_URL=https://geosgb.cprm.gov.br/api

# IBAMA (Instituto Brasileiro do Meio Ambiente)
IBAMA_API_KEY=your_ibama_api_key_here
IBAMA_API_URL=https://servicos.ibama.gov.br/api

# ANP (Agência Nacional do Petróleo)
ANP_API_KEY=your_anp_api_key_here
ANP_API_URL=https://www.gov.br/anp/pt-br/api

# ============================================
# OFFICIAL INTEGRATIONS - INTERNATIONAL
# ============================================
# USGS (United States Geological Survey)
USGS_API_KEY=your_usgs_api_key_here
USGS_API_URL=https://mrdata.usgs.gov/api

# Copernicus (European Space Agency)
COPERNICUS_API_KEY=your_copernicus_api_key_here
COPERNICUS_API_URL=https://scihub.copernicus.eu/api

# ============================================
# VIRUS SCANNER
# ============================================
# ClamAV (if self-hosted)
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# VirusTotal (fallback)
VIRUSTOTAL_API_KEY=your_virustotal_api_key_here

# ============================================
# AI SERVICES
# ============================================
# OpenAI for advanced analysis
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4

# ============================================
# FILE STORAGE
# ============================================
# Google Cloud Storage
GCS_BUCKET_NAME=qivo-mining-uploads-prod
GCS_PROJECT_ID=qivo-mining-prod
GCS_CREDENTIALS_PATH=/secrets/gcs-credentials.json

# Maximum file upload size (in bytes)
MAX_FILE_SIZE=52428800  # 50MB

# ============================================
# MONITORING & LOGGING
# ============================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Sentry (Error Tracking)
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Google Cloud Logging
GCP_LOGGING_ENABLED=true
GCP_LOG_LEVEL=info

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=100

# ============================================
# CORS
# ============================================
CORS_ORIGIN=https://qivomining.com,https://www.qivomining.com
CORS_CREDENTIALS=true

# ============================================
# SESSION
# ============================================
SESSION_SECRET=your_session_secret_here_minimum_64_characters_long
SESSION_MAX_AGE=604800000  # 7 days

# ============================================
# SECURITY
# ============================================
# Helmet.js configuration
HELMET_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year

# Content Security Policy
CSP_ENABLED=true

# ============================================
# PERFORMANCE
# ============================================
# Compression
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# Cache TTL (in seconds)
CACHE_TTL_DEFAULT=86400  # 24 hours
CACHE_TTL_KRCI=86400     # 24 hours
CACHE_TTL_INTEGRATIONS=3600  # 1 hour

# ============================================
# CIRCUIT BREAKER
# ============================================
CIRCUIT_BREAKER_TIMEOUT=10000  # 10 seconds
CIRCUIT_BREAKER_ERROR_THRESHOLD=50  # 50%
CIRCUIT_BREAKER_RESET_TIMEOUT=30000  # 30 seconds

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_EMAIL_VERIFICATION=true
FEATURE_OAUTH_GOOGLE=true
FEATURE_AI_ANALYSIS=true
FEATURE_BRAND_CUSTOMIZATION=true
FEATURE_BRIDGE_REGULATORY=true

# ============================================
# INTERNATIONALIZATION
# ============================================
DEFAULT_LANGUAGE=pt-BR
SUPPORTED_LANGUAGES=pt-BR,en-US,es-ES,fr-FR

# ============================================
# TIMEZONE
# ============================================
TZ=America/Sao_Paulo

# ============================================
# MAINTENANCE MODE
# ============================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Sistema em manutenção. Voltamos em breve.

# ============================================
# BACKUP
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ============================================
# NOTES
# ============================================
# - Never commit .env.production with real values to Git
# - Store secrets in Google Secret Manager or similar
# - Rotate secrets regularly (every 90 days)
# - Use strong, randomly generated values for all secrets
# - Enable 2FA for all service accounts
# - Monitor for leaked secrets using tools like GitGuardian
