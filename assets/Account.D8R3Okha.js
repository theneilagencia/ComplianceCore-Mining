import{j as e}from"./ui.CMOn6A-A.js";import{u as j,a}from"./vendor.DqptLLSw.js";const r="";function N(){const[,n]=j(),[o,i]=a.useState(!0),[s,d]=a.useState(null),[l,x]=a.useState("");a.useEffect(()=>{p()},[]);const p=async()=>{try{const t=await fetch(`${r}/api/license/status`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch license status");const c=await t.json();d(c.stats)}catch(t){x(t.message)}finally{i(!1)}},u=async()=>{try{const c=await(await fetch(`${r}/api/payment/portal`)).json();c.url&&(window.location.href=c.url)}catch{alert("Erro ao abrir portal de gerenciamento")}},g=()=>{n("/pricing")};if(o)return e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:67",className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:68",className:"text-center",children:[e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:69",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{"data-loc":"client/src/pages/Account.tsx:70",className:"text-gray-400",children:"Carregando..."})]})});if(l||!s)return e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:78",className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:79",className:"text-center",children:[e.jsx("p",{"data-loc":"client/src/pages/Account.tsx:80",className:"text-red-600 mb-4",children:l||"Erro ao carregar dados"}),e.jsx("button",{"data-loc":"client/src/pages/Account.tsx:81",onClick:()=>n("/"),className:"text-blue-600 hover:underline",children:"Voltar para Início"})]})});const h=t=>{switch(t){case"START":return"bg-[#171a4a] text-gray-800";case"PRO":return"bg-blue-100 text-blue-800";case"ENTERPRISE":return"bg-purple-100 text-purple-800";default:return"bg-[#171a4a] text-gray-800"}},m=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-orange-100 text-orange-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-[#171a4a] text-gray-800"}};return e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:112",className:"min-h-screen bg-[#000020]",children:[e.jsx("header",{"data-loc":"client/src/pages/Account.tsx:114",className:"bg-white/5 border-b",children:e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:115",className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:116",className:"flex items-center gap-2",children:[e.jsx("img",{"data-loc":"client/src/pages/Account.tsx:117",src:"/assets/logo-Qivo.png",alt:"QIVO Mining",className:"h-10 w-auto"}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:122",children:[e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:123",className:"font-bold text-lg text-white",children:"Minha Conta"}),e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:124",className:"text-xs text-gray-300",children:"QIVO Mining"})]})]}),e.jsx("button",{"data-loc":"client/src/pages/Account.tsx:127",onClick:()=>n("/account"),className:"text-gray-400 hover:text-white",children:"Dashboard"})]})}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:136",className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:138",className:"bg-white/5 rounded-lg shadow-lg p-6 mb-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:139",className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:140",children:[e.jsx("h2",{"data-loc":"client/src/pages/Account.tsx:141",className:"text-2xl font-bold mb-2",children:"Plano Atual"}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:142",className:"flex gap-2",children:[e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:143",className:`px-3 py-1 rounded-full text-sm font-semibold ${h(s.plan)}`,children:s.plan}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:146",className:`px-3 py-1 rounded-full text-sm font-semibold ${m(s.status)}`,children:s.status==="active"?"Ativo":s.status})]})]}),s.plan!=="ENTERPRISE"&&e.jsx("button",{"data-loc":"client/src/pages/Account.tsx:153",onClick:g,className:"bg-[#2f2c79] text-white px-4 py-2 rounded-lg hover:bg-[#b96e48] transition-all",children:"Fazer Upgrade"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:163",className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:164",children:[e.jsx("h3",{"data-loc":"client/src/pages/Account.tsx:165",className:"text-sm font-semibold text-gray-400 mb-2",children:"Relatórios Este Mês"}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:168",className:"mb-2",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:169",className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{"data-loc":"client/src/pages/Account.tsx:170",children:[s.reportsUsed," de ",s.reportsLimit," usados"]}),e.jsxs("span",{"data-loc":"client/src/pages/Account.tsx:171",className:"font-semibold",children:[s.usagePercentage,"%"]})]}),e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:173",className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{"data-loc":"client/src/pages/Account.tsx:174",className:`h-2 rounded-full transition-all ${s.usagePercentage>=90?"bg-red-500":s.usagePercentage>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${s.usagePercentage}%`}})})]}),e.jsxs("p",{"data-loc":"client/src/pages/Account.tsx:184",className:"text-sm text-gray-400",children:[s.reportsRemaining," relatórios restantes"]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:189",children:[e.jsx("h3",{"data-loc":"client/src/pages/Account.tsx:190",className:"text-sm font-semibold text-gray-400 mb-2",children:"Projetos Ativos"}),e.jsx("p",{"data-loc":"client/src/pages/Account.tsx:193",className:"text-3xl font-bold",children:s.projectsLimit===-1?"∞":s.projectsLimit}),e.jsx("p",{"data-loc":"client/src/pages/Account.tsx:196",className:"text-sm text-gray-400",children:s.projectsLimit===-1?"Ilimitados":`Limite: ${s.projectsLimit} projetos`})]})]})]}),s.plan!=="START"&&e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:205",className:"bg-white/5 rounded-lg shadow-lg p-6 mb-6",children:[e.jsx("h2",{"data-loc":"client/src/pages/Account.tsx:206",className:"text-xl font-bold mb-4",children:"Informações de Cobrança"}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:208",className:"space-y-3",children:[e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:209",className:"flex justify-between",children:[e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:210",className:"text-gray-400",children:"Período de Cobrança:"}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:211",className:"font-semibold",children:s.billingPeriod==="annual"?"Anual":"Mensal"})]}),s.validUntil&&e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:217",className:"flex justify-between",children:[e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:218",className:"text-gray-400",children:"Próxima Renovação:"}),e.jsxs("span",{"data-loc":"client/src/pages/Account.tsx:219",className:"font-semibold",children:[new Date(s.validUntil).toLocaleDateString("pt-BR"),s.daysRemaining!==null&&e.jsxs("span",{"data-loc":"client/src/pages/Account.tsx:222",className:"text-sm text-gray-500 ml-2",children:["(",s.daysRemaining," dias)"]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:230",className:"pt-4 border-t",children:[e.jsx("button",{"data-loc":"client/src/pages/Account.tsx:231",onClick:u,className:"w-full bg-[#171a4a] text-gray-300 py-2 rounded-lg hover:bg-gray-200 transition-all",children:"Gerenciar Assinatura"}),e.jsx("p",{"data-loc":"client/src/pages/Account.tsx:237",className:"text-xs text-gray-500 text-center mt-2",children:"Atualizar método de pagamento, ver faturas, cancelar"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:246",className:"bg-white/5 rounded-lg shadow-lg p-6",children:[e.jsx("h2",{"data-loc":"client/src/pages/Account.tsx:247",className:"text-xl font-bold mb-4",children:"Recursos do Seu Plano"}),e.jsxs("ul",{"data-loc":"client/src/pages/Account.tsx:249",className:"space-y-2",children:[s.plan==="START"&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:252",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:253",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:254",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:256",children:"1 relatório por mês"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:258",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:259",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:260",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:262",children:"1 projeto ativo"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:264",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:265",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:266",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:268",children:"Geração de relatórios JORC"})]})]}),s.plan==="PRO"&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:275",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:276",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:277",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:279",children:"5 relatórios por mês"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:281",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:282",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:283",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:285",children:"Até 3 projetos ativos"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:287",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:288",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:289",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:291",children:"Auditoria KRCI completa"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:293",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:294",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:295",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:297",children:"Pré-certificação e conversão de padrões"})]})]}),s.plan==="ENTERPRISE"&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:304",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:305",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:306",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:308",children:"15 relatórios por mês"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:310",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:311",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:312",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:314",children:"Projetos ilimitados"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:316",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:317",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:318",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:320",children:"Todos os recursos PRO + API access"})]}),e.jsxs("li",{"data-loc":"client/src/pages/Account.tsx:322",className:"flex items-center gap-2",children:[e.jsx("svg",{"data-loc":"client/src/pages/Account.tsx:323",className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"data-loc":"client/src/pages/Account.tsx:324",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{"data-loc":"client/src/pages/Account.tsx:326",children:"Suporte dedicado 24/7"})]})]})]})]})]})]})}export{N as default};
