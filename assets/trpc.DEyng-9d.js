import{a as _,R as ar}from"./vendor.DqptLLSw.js";import{j as Ot}from"./ui.CMOn6A-A.js";var ue=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ur={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cr=class{#t=ur;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},ie=new cr;function lr(e){setTimeout(e,0)}var oe=typeof window>"u"||"Deno"in globalThis;function $(){}function fr(e,t){return typeof e=="function"?e(t):e}function Le(e){return typeof e=="number"&&e>=0&&e!==1/0}function Pt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ee(e,t){return typeof e=="function"?e(t):e}function z(e,t){return typeof e=="function"?e(t):e}function st(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=e;if(o){if(s){if(t.queryHash!==Ve(o,t.options))return!1}else if(!pe(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||i&&!i(t))}function it(e,t){const{exact:r,status:s,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(te(t.options.mutationKey)!==te(i))return!1}else if(!pe(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function Ve(e,t){return(t?.queryKeyHashFn||te)(e)}function te(e){return JSON.stringify(e,(t,r)=>Ke(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function pe(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>pe(e[r],t[r])):!1}var hr=Object.prototype.hasOwnProperty;function Ye(e,t){if(e===t)return e;const r=ot(e)&&ot(t);if(!r&&!(Ke(e)&&Ke(t)))return t;const n=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,a=r?new Array(o):{};let u=0;for(let c=0;c<o;c++){const l=r?c:i[c],h=e[l],p=t[l];if(h===p){a[l]=h,(r?c<n:hr.call(e,l))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[l]=p;continue}const v=Ye(h,p);a[l]=v,v===h&&u++}return n===o&&u===n?e:a}function ye(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ot(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ke(e){if(!at(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!at(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function at(e){return Object.prototype.toString.call(e)==="[object Object]"}function dr(e){return new Promise(t=>{ie.setTimeout(t,e)})}function Ne(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ye(e,t):t}function pr(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function yr(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var W=Symbol();function xt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===W?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function wt(e,t){return typeof e=="function"?e(...t):!!e}var vr=class extends ue{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!oe&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ze=new vr;function $e(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}var mr=lr;function br(){let e=[],t=0,r=a=>{a()},s=a=>{a()},n=mr;const i=a=>{t?e.push(a):n(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&n(()=>{s(()=>{a.forEach(u=>{r(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var k=br(),gr=class extends ue{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!oe&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},je=new gr;function Or(e){return Math.min(1e3*2**e,3e4)}function St(e){return(e??"online")==="online"?je.isOnline():!0}var He=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function _t(e){let t=!1,r=0,s;const n=$e(),i=()=>n.status!=="pending",o=d=>{if(!i()){const j=new He(d);p(j),e.onCancel?.(j)}},a=()=>{t=!0},u=()=>{t=!1},c=()=>Ze.isFocused()&&(e.networkMode==="always"||je.isOnline())&&e.canRun(),l=()=>St(e.networkMode)&&e.canRun(),h=d=>{i()||(s?.(),n.resolve(d))},p=d=>{i()||(s?.(),n.reject(d))},v=()=>new Promise(d=>{s=j=>{(i()||c())&&d(j)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),x=()=>{if(i())return;let d;const j=r===0?e.initialPromise:void 0;try{d=j??e.fn()}catch(C){d=Promise.reject(C)}Promise.resolve(d).then(h).catch(C=>{if(i())return;const E=e.retry??(oe?0:3),J=e.retryDelay??Or,X=typeof J=="function"?J(r,C):J,g=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(t||!g){p(C);return}r++,e.onFail?.(r,C),dr(X).then(()=>c()?void 0:v()).then(()=>{t?p(C):x()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(s?.(),n),cancelRetry:a,continueRetry:u,canStart:l,start:()=>(l()?x():v().then(x),n)}}var jt=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Le(this.gcTime)&&(this.#t=ie.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(oe?1/0:300*1e3))}clearGcTimeout(){this.#t&&(ie.clearTimeout(this.#t),this.#t=void 0)}},Pr=class extends jt{#t;#e;#r;#s;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=ut(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ut(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Ne(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then($).catch($):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>z(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ee(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Pt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(u=>u.options.queryFn);a&&this.setOptions(a.options)}const r=new AbortController,s=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},n=()=>{const a=xt(this.options,t),c=(()=>{const l={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(l),l})();return this.#a=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:n};return s(a),a})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=_t({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof He&&a.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},onFail:(a,u)=>{this.#o({type:"failed",failureCount:a,error:u})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#n.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof He){if(a.silent)return this.#n.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#o({type:"error",error:a}),this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#o(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ct(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?s:void 0,s;case"error":const n=e.error;return{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),k.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Ct(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:St(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ut(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ve=class extends ue{constructor(e,t){super(),this.options=t,this.#t=e,this.#o=null,this.#a=$e(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#s=void 0;#n;#i;#a;#o;#d;#f;#h;#c;#l;#u;#y=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ct(this.#e,this.options)?this.#p():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return We(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return We(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#P(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof z(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#e.setOptions(this.options),t._defaulted&&!ye(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&lt(this.#e,r,this.options,t)&&this.#p(),this.updateResult(),s&&(this.#e!==r||z(this.options.enabled,this.#e)!==z(t.enabled,this.#e)||ee(this.options.staleTime,this.#e)!==ee(t.staleTime,this.#e))&&this.#v();const n=this.#m();s&&(this.#e!==r||z(this.options.enabled,this.#e)!==z(t.enabled,this.#e)||n!==this.#u)&&this.#b(n)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return wr(this,r)&&(this.#s=r,this.#i=this.options,this.#n=this.#e.state),r}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),t?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){this.#y.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#p(e){this.#x();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch($)),t}#v(){this.#O();const e=ee(this.options.staleTime,this.#e);if(oe||this.#s.isStale||!Le(e))return;const r=Pt(this.#s.dataUpdatedAt,e)+1;this.#c=ie.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(e){this.#P(),this.#u=e,!(oe||z(this.options.enabled,this.#e)===!1||!Le(this.#u)||this.#u===0)&&(this.#l=ie.setInterval(()=>{(this.options.refetchIntervalInBackground||Ze.isFocused())&&this.#p()},this.#u))}#g(){this.#v(),this.#b(this.#m())}#O(){this.#c&&(ie.clearTimeout(this.#c),this.#c=void 0)}#P(){this.#l&&(ie.clearInterval(this.#l),this.#l=void 0)}createResult(e,t){const r=this.#e,s=this.options,n=this.#s,i=this.#n,o=this.#i,u=e!==r?e.state:this.#r,{state:c}=e;let l={...c},h=!1,p;if(t._optimisticResults){const m=this.hasListeners(),P=!m&&ct(e,t),O=m&&lt(e,r,t,s);(P||O)&&(l={...l,...Ct(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:d}=l;p=l.data;let j=!1;if(t.placeholderData!==void 0&&p===void 0&&d==="pending"){let m;n?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(m=n.data,j=!0):m=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,m!==void 0&&(d="success",p=Ne(n?.data,m,t),h=!0)}if(t.select&&p!==void 0&&!j)if(n&&p===i?.data&&t.select===this.#d)p=this.#f;else try{this.#d=t.select,p=t.select(p),p=Ne(n?.data,p,t),this.#f=p,this.#o=null}catch(m){this.#o=m}this.#o&&(v=this.#o,p=this.#f,x=Date.now(),d="error");const C=l.fetchStatus==="fetching",E=d==="pending",J=d==="error",X=E&&C,g=p!==void 0,f={status:d,fetchStatus:l.fetchStatus,isPending:E,isSuccess:d==="success",isError:J,isInitialLoading:X,isLoading:X,data:p,dataUpdatedAt:l.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:J&&!g,isPaused:l.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:J&&g,isStale:Xe(e,t),refetch:this.refetch,promise:this.#a,isEnabled:z(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const m=w=>{f.status==="error"?w.reject(f.error):f.data!==void 0&&w.resolve(f.data)},P=()=>{const w=this.#a=f.promise=$e();m(w)},O=this.#a;switch(O.status){case"pending":e.queryHash===r.queryHash&&m(O);break;case"fulfilled":(f.status==="error"||f.data!==O.value)&&P();break;case"rejected":(f.status!=="error"||f.error!==O.reason)&&P();break}}return f}updateResult(){const e=this.#s,t=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#e),ye(t,e))return;this.#s=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,n=typeof s=="function"?s():s;if(n==="all"||!n&&!this.#y.size)return!0;const i=new Set(n??this.#y);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const a=o;return this.#s[a]!==e[a]&&i.has(a)})};this.#w({listeners:r()})}#x(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#w(e){k.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function xr(e,t){return z(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ct(e,t){return xr(e,t)||e.state.data!==void 0&&We(e,t,t.refetchOnMount)}function We(e,t,r){if(z(t.enabled,e)!==!1&&ee(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Xe(e,t)}return!1}function lt(e,t,r,s){return(e!==t||z(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Xe(e,r)}function Xe(e,t){return z(t.enabled,e)!==!1&&e.isStaleByTime(ee(t.staleTime,e))}function wr(e,t){return!ye(e.getCurrentResult(),t)}function Ce(e){return{onFetch:(t,r)=>{const s=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let l=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},p=xt(t.options,t.fetchOptions),v=async(x,d,j)=>{if(l)return Promise.reject();if(d==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const b={client:t.client,queryKey:t.queryKey,pageParam:d,direction:j?"backward":"forward",meta:t.options.meta};return h(b),b})(),J=await p(E),{maxPages:X}=t.options,g=j?yr:pr;return{pages:g(x.pages,J,X),pageParams:g(x.pageParams,d,X)}};if(n&&i.length){const x=n==="backward",d=x?Rt:Ge,j={pages:i,pageParams:o},C=d(s,j);a=await v(j,C,x)}else{const x=e??i.length;do{const d=u===0?o[0]??s.initialPageParam:Ge(s,a);if(u>0&&d==null)break;a=await v(a,d),u++}while(u<x)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Ge(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Rt(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function Sr(e,t){return t?Ge(e,t)!=null:!1}function _r(e,t){return!t||!e.getPreviousPageParam?!1:Rt(e,t)!=null}var Qt=class extends ve{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Ce()})}getOptimisticResult(e){return e.behavior=Ce(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,s=super.createResult(e,t),{isFetching:n,isRefetching:i,isError:o,isRefetchError:a}=s,u=r.fetchMeta?.fetchMore?.direction,c=o&&u==="forward",l=n&&u==="forward",h=o&&u==="backward",p=n&&u==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Sr(t,r.data),hasPreviousPage:_r(t,r.data),isFetchNextPageError:c,isFetchingNextPage:l,isFetchPreviousPageError:h,isFetchingPreviousPage:p,isRefetchError:a&&!c&&!h,isRefetching:i&&!l&&!p}}},jr=class extends jt{#t;#e;#r;#s;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#e=[],this.state=e.state||Et(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=_t({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const s=this.state.status==="pending",n=!this.#s.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#r.config.onMutate?.(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:n})}const i=await this.#s.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),k.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function Et(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cr=class extends ue{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const s=new jr({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#t.add(e);const t=Oe(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Oe(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Oe(e);if(typeof t=="string"){const s=this.#e.get(t)?.find(n=>n.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=Oe(e);return typeof t=="string"?this.#e.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){k.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>it(t,r))}findAll(e={}){return this.getAll().filter(t=>it(e,t))}notify(e){k.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return k.batch(()=>Promise.all(e.map(t=>t.continue().catch($))))}};function Oe(e){return e.options.scope?.id}var Rr=class extends ue{#t;#e=void 0;#r;#s;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#t.defaultMutationOptions(e),ye(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&te(t.mutationKey)!==te(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#i(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){const e=this.#r?.state??Et();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){k.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#e.variables,r=this.#e.context,s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r,s),this.#s.onSettled?.(e.data,null,t,r,s)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r,s),this.#s.onSettled?.(void 0,e.error,t,r,s))}this.listeners.forEach(t=>{t(this.#e)})})}};function ft(e,t){const r=new Set(t);return e.filter(s=>!r.has(s))}function Qr(e,t,r){const s=e.slice(0);return s[t]=r,s}var Er=class extends ue{#t;#e;#r;#s;#n;#i;#a;#o;#d=[];constructor(e,t,r){super(),this.#t=e,this.#s=r,this.#r=[],this.#n=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#n.forEach(e=>{e.subscribe(t=>{this.#l(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#n.forEach(e=>{e.destroy()})}setQueries(e,t){this.#r=e,this.#s=t,k.batch(()=>{const r=this.#n,s=this.#c(this.#r);this.#d=s,s.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));const n=s.map(l=>l.observer),i=n.map(l=>l.getCurrentResult()),o=r.length!==n.length,a=n.some((l,h)=>l!==r[h]),u=o||a,c=u?!0:i.some((l,h)=>{const p=this.#e[h];return!p||!ye(l,p)});!u&&!c||(u&&(this.#n=n),this.#e=i,this.hasListeners()&&(u&&(ft(r,n).forEach(l=>{l.destroy()}),ft(n,r).forEach(l=>{l.subscribe(h=>{this.#l(l,h)})})),this.#u()))})}getCurrentResult(){return this.#e}getQueries(){return this.#n.map(e=>e.getCurrentQuery())}getObservers(){return this.#n}getOptimisticResult(e,t){const r=this.#c(e),s=r.map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions));return[s,n=>this.#h(n??s,t),()=>this.#f(s,r)]}#f(e,t){return t.map((r,s)=>{const n=e[s];return r.defaultedQueryOptions.notifyOnChangeProps?n:r.observer.trackResult(n,i=>{t.forEach(o=>{o.observer.trackProp(i)})})})}#h(e,t){return t?((!this.#i||this.#e!==this.#o||t!==this.#a)&&(this.#a=t,this.#o=this.#e,this.#i=Ye(this.#i,t(e))),this.#i):e}#c(e){const t=new Map(this.#n.map(s=>[s.options.queryHash,s])),r=[];return e.forEach(s=>{const n=this.#t.defaultQueryOptions(s),i=t.get(n.queryHash);i?r.push({defaultedQueryOptions:n,observer:i}):r.push({defaultedQueryOptions:n,observer:new ve(this.#t,n)})}),r}#l(e,t){const r=this.#n.indexOf(e);r!==-1&&(this.#e=Qr(this.#e,r,t),this.#u())}#u(){if(this.hasListeners()){const e=this.#i,t=this.#f(this.#e,this.#d),r=this.#h(t,this.#s?.combine);e!==r&&k.batch(()=>{this.listeners.forEach(s=>{s(this.#e)})})}}},Mr=class extends ue{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const s=t.queryKey,n=t.queryHash??Ve(s,t);let i=this.get(n);return i||(i=new Pr({client:e,queryKey:s,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){k.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>st(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>st(e,r)):t}notify(e){k.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){k.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){k.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fs=class{#t;#e;#r;#s;#n;#i;#a;#o;constructor(e={}){this.#t=e.queryCache||new Mr,this.#e=e.mutationCache||new Cr,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=Ze.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=je.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ee(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(s.queryHash)?.state.data,o=fr(t,i);if(o!==void 0)return this.#t.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return k.batch(()=>this.#t.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;k.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return k.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=k.batch(()=>this.#t.findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then($).catch($)}invalidateQueries(e,t={}){return k.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=k.batch(()=>this.#t.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch($)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then($)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(ee(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($).catch($)}fetchInfiniteQuery(e){return e.behavior=Ce(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($).catch($)}ensureInfiniteQueryData(e){return e.behavior=Ce(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return je.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(te(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(s=>{pe(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(te(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(s=>{pe(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ve(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===W&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Mt=_.createContext(void 0),me=e=>{const t=_.useContext(Mt);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hs=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Ot.jsx(Mt.Provider,{value:e,children:t})),It=_.createContext(!1),qt=()=>_.useContext(It);It.Provider;function Ir(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qr=_.createContext(Ir()),Dt=()=>_.useContext(qr),Tt=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ft=e=>{_.useEffect(()=>{e.clearReset()},[e])},At=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(n&&e.data===void 0||wt(r,[e.error,s])),et=(e,t)=>t.state.data===void 0,kt=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...n)=>r(s(...n)):r(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ut=(e,t)=>e.isLoading&&e.isFetching&&!t,ze=(e,t)=>e?.suspense&&t.isPending,Re=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Lt({queries:e,...t},r){const s=me(r),n=qt(),i=Dt(),o=_.useMemo(()=>e.map(d=>{const j=s.defaultQueryOptions(d);return j._optimisticResults=n?"isRestoring":"optimistic",j}),[e,s,n]);o.forEach(d=>{kt(d),Tt(d,i)}),Ft(i);const[a]=_.useState(()=>new Er(s,o,t)),[u,c,l]=a.getOptimisticResult(o,t.combine),h=!n&&t.subscribed!==!1;_.useSyncExternalStore(_.useCallback(d=>h?a.subscribe(k.batchCalls(d)):$,[a,h]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),_.useEffect(()=>{a.setQueries(o,t)},[o,t,a]);const v=u.some((d,j)=>ze(o[j],d))?u.flatMap((d,j)=>{const C=o[j];if(C){const E=new ve(s,C);if(ze(C,d))return Re(C,E,i);Ut(d,n)&&Re(C,E,i)}return[]}):[];if(v.length>0)throw Promise.all(v);const x=u.find((d,j)=>{const C=o[j];return C&&At({result:d,errorResetBoundary:i,throwOnError:C.throwOnError,query:s.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(x?.error)throw x.error;return c(l())}function Ee(e,t,r){const s=qt(),n=Dt(),i=me(r),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",kt(o),Tt(o,n),Ft(n);const a=!i.getQueryCache().get(o.queryHash),[u]=_.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),l=!s&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(h=>{const p=l?u.subscribe(k.batchCalls(h)):$;return u.updateResult(),p},[u,l]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(o)},[o,u]),ze(o,c))throw Re(o,u,n);if(At({result:c,errorResetBoundary:n,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!oe&&Ut(c,s)&&(a?Re(o,u,n):i.getQueryCache().get(o.queryHash)?.promise)?.catch($).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function Dr(e,t){return Ee(e,ve,t)}function Tr(e,t){return Ee({...e,enabled:!0,suspense:!0,throwOnError:et,placeholderData:void 0},ve,t)}function Fr(e,t){return Ee({...e,enabled:!0,suspense:!0,throwOnError:et},Qt,t)}function Ar(e,t){return Lt({...e,queries:e.queries.map(r=>({...r,suspense:!0,throwOnError:et,enabled:!0,placeholderData:void 0}))},t)}function kr(e,t){const r=me(t);r.getQueryState(e.queryKey)||r.prefetchQuery(e)}function Ur(e,t){const r=me(t);r.getQueryState(e.queryKey)||r.prefetchInfiniteQuery(e)}function Lr(e,t){const r=me(t),[s]=_.useState(()=>new Rr(r,e));_.useEffect(()=>{s.setOptions(e)},[s,e]);const n=_.useSyncExternalStore(_.useCallback(o=>s.subscribe(k.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=_.useCallback((o,a)=>{s.mutate(o,a).catch($)},[s]);if(n.error&&wt(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function Kr(e,t){return Ee(e,Qt,t)}function ae(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}const Nr=typeof Symbol=="function"&&!!Symbol.asyncIterator;function Kt(e){return Nr&&ae(e)&&Symbol.asyncIterator in e}var $r=Object.create,Nt=Object.defineProperty,Hr=Object.getOwnPropertyDescriptor,$t=Object.getOwnPropertyNames,Wr=Object.getPrototypeOf,Gr=Object.prototype.hasOwnProperty,be=(e,t)=>function(){return t||(0,e[$t(e)[0]])((t={exports:{}}).exports,t),t.exports},zr=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=$t(t),i=0,o=n.length,a;i<o;i++)a=n[i],!Gr.call(e,a)&&a!==r&&Nt(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(s=Hr(t,a))||s.enumerable});return e},Me=(e,t,r)=>(r=e!=null?$r(Wr(e)):{},zr(Nt(r,"default",{value:e,enumerable:!0}),e));const Ht=()=>{},ht=e=>{Object.freeze&&Object.freeze(e)};function Wt(e,t,r){var s;const n=t.join(".");return(s=r[n])!==null&&s!==void 0||(r[n]=new Proxy(Ht,{get(i,o){if(!(typeof o!="string"||o==="then"))return Wt(e,[...t,o],r)},apply(i,o,a){const u=t[t.length-1];let c={args:a,path:t};return u==="call"?c={args:a.length>=2?[a[1]]:[],path:t.slice(0,-1)}:u==="apply"&&(c={args:a.length>=2?a[1]:[],path:t.slice(0,-1)}),ht(c.args),ht(c.path),e(c)}})),r[n]}const Ie=e=>Wt(e,[],Object.create(null)),tt=e=>new Proxy(Ht,{get(t,r){if(r!=="then")return e(r)}});var Gt=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(s){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Br=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Gt().default;function s(n,i){if(r(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,i||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),Jr=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Gt().default,s=Br();function n(i){var o=s(i,"string");return r(o)=="symbol"?o:o+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),zt=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=Jr();function s(n,i,o){return(i=r(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),rt=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=zt();function s(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);o&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),a.push.apply(a,u)}return a}function n(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?s(Object(a),!0).forEach(function(u){r(i,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(a,u))})}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});Me(rt());Me(zt());var Pe=Me(rt());function Vr(e,t){if("error"in e){const s=t.deserialize(e.error);return{ok:!1,error:(0,Pe.default)((0,Pe.default)({},e),{},{error:s})}}return{ok:!0,result:(0,Pe.default)((0,Pe.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:t.deserialize(e.result.data)})}}var Fe=class extends Error{constructor(){super("Unable to transform response from server")}};function Yr(e,t){let r;try{r=Vr(e,t)}catch{throw new Fe}if(!r.ok&&(!ae(r.error.error)||typeof r.error.error.code!="number"))throw new Fe;if(r.ok&&!ae(r.result))throw new Fe;return r}Me(rt());function qe(e){const t={subscribe(r){let s=null,n=!1,i=!1,o=!1;function a(){if(s===null){o=!0;return}i||(i=!0,typeof s=="function"?s():s&&s.unsubscribe())}return s=e({next(u){var c;n||(c=r.next)===null||c===void 0||c.call(r,u)},error(u){var c;n||(n=!0,(c=r.error)===null||c===void 0||c.call(r,u),a())},complete(){var u;n||(n=!0,(u=r.complete)===null||u===void 0||u.call(r),a())}}),o&&a(),{unsubscribe:a}},pipe(...r){return r.reduce(Zr,t)}};return t}function Zr(e,t){return t(e)}function Xr(e){const t=new AbortController;return new Promise((s,n)=>{let i=!1;function o(){i||(i=!0,a.unsubscribe())}t.signal.addEventListener("abort",()=>{n(t.signal.reason)});const a=e.subscribe({next(u){i=!0,s(u),o()},error(u){n(u)},complete(){t.abort(),o()}})})}var en=Object.create,Bt=Object.defineProperty,tn=Object.getOwnPropertyDescriptor,Jt=Object.getOwnPropertyNames,rn=Object.getPrototypeOf,nn=Object.prototype.hasOwnProperty,re=(e,t)=>function(){return t||(0,e[Jt(e)[0]])((t={exports:{}}).exports,t),t.exports},sn=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Jt(t),i=0,o=n.length,a;i<o;i++)a=n[i],!nn.call(e,a)&&a!==r&&Bt(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(s=tn(t,a))||s.enumerable});return e},ce=(e,t,r)=>(r=e!=null?en(rn(e)):{},sn(t||!e||!e.__esModule?Bt(r,"default",{value:e,enumerable:!0}):r,e)),on=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,t){function r(s,n){if(s==null)return{};var i={};for(var o in s)if({}.hasOwnProperty.call(s,o)){if(n.includes(o))continue;i[o]=s[o]}return i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),an=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,t){var r=on();function s(n,i){if(n==null)return{};var o,a,u=r(n,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(a=0;a<c.length;a++)o=c[a],i.includes(o)||{}.propertyIsEnumerable.call(n,o)&&(u[o]=n[o])}return u}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),Vt=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(s){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),un=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Vt().default;function s(n,i){if(r(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,i||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),cn=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Vt().default,s=un();function n(i){var o=s(i,"string");return r(o)=="symbol"?o:o+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),ln=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=cn();function s(n,i,o){return(i=r(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),ge=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=ln();function s(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);o&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),a.push.apply(a,u)}return a}function n(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?s(Object(a),!0).forEach(function(u){r(i,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(a,u))})}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),fn=ce(an(),1),dt=ce(ge(),1);const hn=["cursor","direction"];function V(e,t,r){const s=e.flatMap(n=>n.split("."));if(!t&&(!r||r==="any"))return s.length?[s]:[];if(r==="infinite"&&ae(t)&&("direction"in t||"cursor"in t)){const{cursor:n,direction:i}=t,o=(0,fn.default)(t,hn);return[s,{input:o,type:"infinite"}]}return[s,(0,dt.default)((0,dt.default)({},typeof t<"u"&&t!==W&&{input:t}),r&&r!=="any"&&{type:r})]}function Se(e){return V(e,void 0,"any")}var dn=Object.create,Yt=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,Zt=Object.getOwnPropertyNames,yn=Object.getPrototypeOf,vn=Object.prototype.hasOwnProperty,Y=(e,t)=>function(){return t||(0,e[Zt(e)[0]])((t={exports:{}}).exports,t),t.exports},mn=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Zt(t),i=0,o=n.length,a;i<o;i++)a=n[i],!vn.call(e,a)&&a!==r&&Yt(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(s=pn(t,a))||s.enumerable});return e},U=(e,t,r)=>(r=e!=null?dn(yn(e)):{},mn(Yt(r,"default",{value:e,enumerable:!0}),e)),Xt=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(s){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),bn=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Xt().default;function s(n,i){if(r(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,i||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),gn=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Xt().default,s=bn();function n(i){var o=s(i,"string");return r(o)=="symbol"?o:o+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),le=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=gn();function s(n,i,o){return(i=r(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),B=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=le();function s(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);o&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),a.push.apply(a,u)}return a}function n(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?s(Object(a),!0).forEach(function(u){r(i,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(a,u))})}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});function On(e){return t=>{let r=0,s=null;const n=[];function i(){s||(s=t.subscribe({next(a){for(const c of n){var u;(u=c.next)===null||u===void 0||u.call(c,a)}},error(a){for(const c of n){var u;(u=c.error)===null||u===void 0||u.call(c,a)}},complete(){for(const u of n){var a;(a=u.complete)===null||a===void 0||a.call(u)}}}))}function o(){if(r===0&&s){const a=s;s=null,a.unsubscribe()}}return qe(a=>(r++,n.push(a),i(),{unsubscribe(){r--,o();const u=n.findIndex(c=>c===a);u>-1&&n.splice(u,1)}}))}}function Pn(e){let t=e;const r=[],s=o=>{t!==void 0&&o.next(t),r.push(o)},n=o=>{r.splice(r.indexOf(o),1)},i=qe(o=>(s(o),()=>{n(o)}));return i.next=o=>{if(t!==o){t=o;for(const a of r)a.next(o)}},i.get=()=>t,i}function xn(e){return qe(t=>{function r(n=0,i=e.op){const o=e.links[n];if(!o)throw new Error("No more links to execute - did you forget to add an ending link?");return o({op:i,next(u){return r(n+1,u)}})}return r().subscribe(t)})}var xe=U(le()),fe=U(B());function wn(e){return e instanceof Qe}function Sn(e){return ae(e)&&ae(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function _n(e,t){return typeof e=="string"?e:ae(e)&&typeof e.message=="string"?e.message:t}var Qe=class _e extends Error{constructor(t,r){var s,n;const i=r?.cause;super(t,{cause:i}),(0,xe.default)(this,"cause",void 0),(0,xe.default)(this,"shape",void 0),(0,xe.default)(this,"data",void 0),(0,xe.default)(this,"meta",void 0),this.meta=r?.meta,this.cause=i,this.shape=r==null||(s=r.result)===null||s===void 0?void 0:s.error,this.data=r==null||(n=r.result)===null||n===void 0?void 0:n.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,_e.prototype)}static from(t,r={}){const s=t;return wn(s)?(r.meta&&(s.meta=(0,fe.default)((0,fe.default)({},s.meta),r.meta)),s):Sn(s)?new _e(s.error.message,(0,fe.default)((0,fe.default)({},r),{},{result:s})):new _e(_n(s,"Unknown error"),(0,fe.default)((0,fe.default)({},r),{},{cause:s}))}};function jn(e){const t=e;return t?"input"in t?t:{input:t,output:t}:{input:{serialize:r=>r,deserialize:r=>r},output:{serialize:r=>r,deserialize:r=>r}}}const pt=e=>typeof e=="function";function Cn(e){if(e)return e;if(typeof window<"u"&&pt(window.fetch))return window.fetch;if(typeof globalThis<"u"&&pt(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var de=U(B());function Rn(e){return{url:e.url.toString(),fetch:e.fetch,transformer:jn(e.transformer),methodOverride:e.methodOverride}}function Qn(e){const t={};for(let r=0;r<e.length;r++){const s=e[r];t[r]=s}return t}const En={query:"GET",mutation:"POST",subscription:"PATCH"};function er(e){return"input"in e?e.transformer.input.serialize(e.input):Qn(e.inputs.map(t=>e.transformer.input.serialize(t)))}const tr=e=>{const t=e.url.split("?");let s=t[0].replace(/\/$/,"")+"/"+e.path;const n=[];if(t[1]&&n.push(t[1]),"inputs"in e&&n.push("batch=1"),e.type==="query"||e.type==="subscription"){const i=er(e);i!==void 0&&e.methodOverride!=="POST"&&n.push(`input=${encodeURIComponent(JSON.stringify(i))}`)}return n.length&&(s+="?"+n.join("&")),s},Mn=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;const t=er(e);return t!==void 0?JSON.stringify(t):void 0},In=e=>Fn((0,de.default)((0,de.default)({},e),{},{contentTypeHeader:"application/json",getUrl:tr,getBody:Mn}));var qn=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const Dn=e=>{var t;if(e?.aborted)throw(t=e.throwIfAborted)===null||t===void 0||t.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new qn};async function Tn(e){var t;Dn(e.signal);const r=e.getUrl(e),s=e.getBody(e),n=(t=e.methodOverride)!==null&&t!==void 0?t:En[e.type],i=await(async()=>{const a=await e.headers();return Symbol.iterator in a?Object.fromEntries(a):a})(),o=(0,de.default)((0,de.default)((0,de.default)({},e.contentTypeHeader&&n!=="GET"?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),i);return Cn(e.fetch)(r,{method:n,signal:e.signal,body:s,headers:o})}async function Fn(e){const t={},r=await Tn(e);t.response=r;const s=await r.json();return t.responseJSON=s,{json:s,meta:t}}U(B());const yt=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function vt(e){let t=null,r=null;const s=()=>{clearTimeout(r),r=null,t=null};function n(a){const u=[[]];let c=0;for(;;){const p=a[c];if(!p)break;const v=u[u.length-1];if(p.aborted){var l;(l=p.reject)===null||l===void 0||l.call(p,new Error("Aborted")),c++;continue}if(e.validate(v.concat(p).map(d=>d.key))){v.push(p),c++;continue}if(v.length===0){var h;(h=p.reject)===null||h===void 0||h.call(p,new Error("Input is too big for a single dispatch")),c++;continue}u.push([])}return u}function i(){const a=n(t);s();for(const u of a){if(!u.length)continue;const c={items:u};for(const h of u)h.batch=c;e.fetch(c.items.map(h=>h.key)).then(async h=>{await Promise.all(h.map(async(v,x)=>{const d=c.items[x];try{var j;const E=await Promise.resolve(v);(j=d.resolve)===null||j===void 0||j.call(d,E)}catch(E){var C;(C=d.reject)===null||C===void 0||C.call(d,E)}d.batch=null,d.reject=null,d.resolve=null}));for(const v of c.items){var p;(p=v.reject)===null||p===void 0||p.call(v,new Error("Missing result")),v.batch=null}}).catch(h=>{for(const v of c.items){var p;(p=v.reject)===null||p===void 0||p.call(v,h),v.batch=null}})}}function o(a){var u;const c={aborted:!1,key:a,batch:null,resolve:yt,reject:yt},l=new Promise((h,p)=>{var v;c.reject=p,c.resolve=h,(v=t)!==null&&v!==void 0||(t=[]),t.push(c)});return(u=r)!==null&&u!==void 0||(r=setTimeout(i)),l}return{load:o}}function An(...e){const t=new AbortController,r=e.length;let s=0;const n=()=>{++s===r&&t.abort()};for(const i of e)i?.aborted?n():i?.addEventListener("abort",n,{once:!0});return t.signal}var we=U(B());function ds(e){var t,r;const s=Rn(e),n=(t=e.maxURLLength)!==null&&t!==void 0?t:1/0,i=(r=e.maxItems)!==null&&r!==void 0?r:1/0;return()=>{const o=l=>({validate(h){if(n===1/0&&i===1/0)return!0;if(h.length>i)return!1;const p=h.map(d=>d.path).join(","),v=h.map(d=>d.input);return tr((0,we.default)((0,we.default)({},s),{},{type:l,path:p,inputs:v,signal:null})).length<=n},async fetch(h){const p=h.map(E=>E.path).join(","),v=h.map(E=>E.input),x=An(...h.map(E=>E.signal)),d=await In((0,we.default)((0,we.default)({},s),{},{path:p,inputs:v,type:l,headers(){return e.headers?typeof e.headers=="function"?e.headers({opList:h}):e.headers:{}},signal:x}));return(Array.isArray(d.json)?d.json:h.map(()=>d.json)).map(E=>({meta:d.meta,json:E}))}}),a=vt(o("query")),u=vt(o("mutation")),c={query:a,mutation:u};return({op:l})=>qe(h=>{/* istanbul ignore if -- @preserve */if(l.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const v=c[l.type].load(l);let x;return v.then(d=>{x=d;const j=Yr(d.json,s.transformer.output);if(!j.ok){h.error(Qe.from(j.error,{meta:d.meta}));return}h.next({context:d.meta,result:j.result}),h.complete()}).catch(d=>{h.error(Qe.from(d,{meta:x?.meta}))}),()=>{}})}}U(B());const rr=(e,...t)=>typeof e=="function"?e(...t):e;U(le());function kn(){let e,t;return{promise:new Promise((s,n)=>{e=s,t=n}),resolve:e,reject:t}}async function Un(e){const t=await rr(e.url);if(!e.connectionParams)return t;const s=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+s}async function Ln(e){const t={method:"connectionParams",data:await rr(e)};return JSON.stringify(t)}U(le());var se=U(le());function Kn(e){const{promise:t,resolve:r,reject:s}=kn();return e.addEventListener("open",()=>{e.removeEventListener("error",s),r()}),e.addEventListener("error",s),t}function Nn(e,{intervalMs:t,pongTimeoutMs:r}){let s,n;function i(){s=setTimeout(()=>{e.send("PING"),n=setTimeout(()=>{e.close()},r)},t)}function o(){clearTimeout(s),i()}function a(){clearTimeout(n),o()}e.addEventListener("open",i),e.addEventListener("message",({data:u})=>{clearTimeout(s),i(),u==="PONG"&&a()}),e.addEventListener("close",()=>{clearTimeout(s),clearTimeout(n)})}var $n=class Be{constructor(t){var r;if((0,se.default)(this,"id",++Be.connectCount),(0,se.default)(this,"WebSocketPonyfill",void 0),(0,se.default)(this,"urlOptions",void 0),(0,se.default)(this,"keepAliveOpts",void 0),(0,se.default)(this,"wsObservable",Pn(null)),(0,se.default)(this,"openPromise",null),this.WebSocketPonyfill=(r=t.WebSocketPonyfill)!==null&&r!==void 0?r:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var t=this;if(t.openPromise)return t.openPromise;t.id=++Be.connectCount;const r=Un(t.urlOptions).then(s=>new t.WebSocketPonyfill(s));t.openPromise=r.then(async s=>{t.ws=s,s.addEventListener("message",function({data:n}){n==="PING"&&this.send("PONG")}),t.keepAliveOpts.enabled&&Nn(s,t.keepAliveOpts),s.addEventListener("close",()=>{t.ws===s&&(t.ws=null)}),await Kn(s),t.urlOptions.connectionParams&&s.send(await Ln(t.urlOptions.connectionParams))});try{await t.openPromise}finally{t.openPromise=null}}async close(){var t=this;try{await t.openPromise}finally{var r;(r=t.ws)===null||r===void 0||r.close()}}};(0,se.default)($n,"connectCount",0);U(le());U(B());var Ae=U(le()),mt=U(B()),De=class{constructor(e){(0,Ae.default)(this,"links",void 0),(0,Ae.default)(this,"runtime",void 0),(0,Ae.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(t=>t(this.runtime))}$request(e){var t;return xn({links:this.links,op:(0,mt.default)((0,mt.default)({},e),{},{context:(t=e.context)!==null&&t!==void 0?t:{},id:++this.requestId})}).pipe(On())}async requestAsPromise(e){var t=this;try{const r=t.$request(e);return(await Xr(r)).result.data}catch(r){throw Qe.from(r)}}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r.context,signal:r.signal}).subscribe({next(n){switch(n.result.type){case"state":{var i;(i=r.onConnectionStateChange)===null||i===void 0||i.call(r,n.result);break}case"started":{var o;(o=r.onStarted)===null||o===void 0||o.call(r,{context:n.context});break}case"stopped":{var a;(a=r.onStopped)===null||a===void 0||a.call(r);break}case"data":case void 0:{var u;(u=r.onData)===null||u===void 0||u.call(r,n.result.data);break}}},error(n){var i;(i=r.onError)===null||i===void 0||i.call(r,n)},complete(){var n;(n=r.onComplete)===null||n===void 0||n.call(r)}})}};const nr=Symbol.for("trpc_untypedClient"),Hn={query:"query",mutate:"mutation",subscribe:"subscription"},Wn=e=>Hn[e];function sr(e){const t=Ie(({path:r,args:s})=>{const n=[...r],i=Wn(n.pop()),o=n.join(".");return e[i](o,...s)});return tt(r=>r===nr?e:t[r])}function Gn(e){const t=new De(e);return sr(t)}function nt(e){return e[nr]}U(B());U(B());var zn=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(n){var i,o,a,u=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,a=Symbol.iterator);u--;){if(o&&(i=n[o])!=null)return i.call(n);if(a&&(i=n[a])!=null)return new s(i.call(n));o="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function s(n){function i(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var a=o.done;return Promise.resolve(o.value).then(function(u){return{value:u,done:a}})}return s=function(a){this.s=a,this.n=a.next},s.prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(a){var u=this.s.return;return u===void 0?Promise.resolve({value:a,done:!0}):i(u.apply(this.s,arguments))},throw:function(a){var u=this.s.return;return u===void 0?Promise.reject(a):i(u.apply(this.s,arguments))}},new s(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}});U(zn());U(B());var Bn=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){function r(){var s=typeof SuppressedError=="function"?SuppressedError:function(a,u){var c=Error();return c.name="SuppressedError",c.error=a,c.suppressed=u,c},n={},i=[];function o(a,u){if(u!=null){if(Object(u)!==u)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var c=u[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(c===void 0&&(c=u[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var l=c;if(typeof c!="function")throw new TypeError("Object is not disposable.");l&&(c=function(){try{l.call(u)}catch(p){return Promise.reject(p)}}),i.push({v:u,d:c,a})}else a&&i.push({d:u,a});return u}return{e:n,u:o.bind(null,!1),a:o.bind(null,!0),d:function(){var u,c=this.e,l=0;function h(){for(;u=i.pop();)try{if(!u.a&&l===1)return l=0,i.push(u),Promise.resolve().then(h);if(u.d){var v=u.d.call(u.v);if(u.a)return l|=2,Promise.resolve(v).then(h,p)}else l|=1}catch(x){return p(x)}if(l===1)return c!==n?Promise.reject(c):Promise.resolve();if(c!==n)throw c}function p(v){return c=c!==n?new s(v,c):v,h()}return h()}}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),ir=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){function r(s,n){this.v=s,this.k=n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Jn=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var r=ir();function s(n){return new r(n,0)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),Vn=Y({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var r=ir();function s(i){return function(){return new n(i.apply(this,arguments))}}function n(i){var o,a;function u(l,h){try{var p=i[l](h),v=p.value,x=v instanceof r;Promise.resolve(x?v.v:v).then(function(d){if(x){var j=l==="return"?"return":"next";if(!v.k||d.done)return u(j,d);d=i[j](d).value}c(p.done?"return":"normal",d)},function(d){u("throw",d)})}catch(d){c("throw",d)}}function c(l,h){switch(l){case"return":o.resolve({value:h,done:!0});break;case"throw":o.reject(h);break;default:o.resolve({value:h,done:!1})}(o=o.next)?u(o.key,o.arg):a=null}this._invoke=function(l,h){return new Promise(function(p,v){var x={key:l,arg:h,resolve:p,reject:v,next:null};a?a=a.next=x:(o=a=x,u(l,h))})},typeof i.return!="function"&&(this.return=void 0)}n.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},n.prototype.next=function(i){return this._invoke("next",i)},n.prototype.throw=function(i){return this._invoke("throw",i)},n.prototype.return=function(i){return this._invoke("return",i)},t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}});U(Bn());U(Jn());U(Vn());U(B());function Yn(e){return Ie(({path:t,args:r})=>{var s;const n=[...t],i=n.pop();if(i==="useMutation")return e[i](n,...r);if(i==="_def")return{path:n};const[o,...a]=r,u=(s=a[0])!==null&&s!==void 0?s:{};return e[i](n,o,u)})}var ke;const Zn=["client","ssrContext","ssrState","abortOnUnmount"],Xn=(ke=_.createContext)===null||ke===void 0?void 0:ke.call(ar,null),es=e=>{switch(e){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function ts(e){return Ie(t=>{const r=[...t.path],s=r.pop(),n=[...t.args],i=n.shift(),o=es(s),a=V(r,i,o);return{infiniteQueryOptions:()=>e.infiniteQueryOptions(r,a,n[0]),queryOptions:()=>e.queryOptions(r,a,...n),fetch:()=>e.fetchQuery(a,...n),fetchInfinite:()=>e.fetchInfiniteQuery(a,n[0]),prefetch:()=>e.prefetchQuery(a,...n),prefetchInfinite:()=>e.prefetchInfiniteQuery(a,n[0]),ensureData:()=>e.ensureQueryData(a,...n),invalidate:()=>e.invalidateQueries(a,...n),reset:()=>e.resetQueries(a,...n),refetch:()=>e.refetchQueries(a,...n),cancel:()=>e.cancelQuery(a,...n),setData:()=>{e.setQueryData(a,n[0],n[1])},setQueriesData:()=>e.setQueriesData(a,n[0],n[1],n[2]),setInfiniteData:()=>{e.setInfiniteQueryData(a,n[0],n[1])},getData:()=>e.getQueryData(a),getInfiniteData:()=>e.getInfiniteQueryData(a),setMutationDefaults:()=>e.setMutationDefaults(Se(r),i),getMutationDefaults:()=>e.getMutationDefaults(Se(r)),isMutating:()=>e.isMutating({mutationKey:Se(r)})}[s]()})}function rs(e){const t=sr(e.client),r=ts(e);return tt(s=>{const n=s;return n==="client"?t:Zn.includes(n)?e[n]:r[s]})}var ns=ce(ge(),1);function bt(e){const t=e instanceof De?e:nt(e);return Ie(r=>{const s=r.path,n=s.join("."),[i,o]=r.args;return(0,ns.default)({queryKey:V(s,i,"query"),queryFn:()=>t.query(n,i,o?.trpc)},o)})}var Ue=ce(ge(),1);function H(e,t,r){var s;const n=e[0];let i=(s=e[1])===null||s===void 0?void 0:s.input;if(r){var o;i=(0,Ue.default)((0,Ue.default)((0,Ue.default)({},(o=i)!==null&&o!==void 0?o:{}),r.pageParam?{cursor:r.pageParam}:{}),{},{direction:r.direction})}return[n.join("."),i,t?.trpc]}var ss=re({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(n){var i,o,a,u=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,a=Symbol.iterator);u--;){if(o&&(i=n[o])!=null)return i.call(n);if(a&&(i=n[a])!=null)return new s(i.call(n));o="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function s(n){function i(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var a=o.done;return Promise.resolve(o.value).then(function(u){return{value:u,done:a}})}return s=function(a){this.s=a,this.n=a.next},s.prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(a){var u=this.s.return;return u===void 0?Promise.resolve({value:a,done:!0}):i(u.apply(this.s,arguments))},throw:function(a){var u=this.s.return;return u===void 0?Promise.reject(a):i(u.apply(this.s,arguments))}},new s(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),is=ce(ss(),1);function Je(e){return{path:e.path.join(".")}}function he(e){const t=Je(e);return _.useMemo(()=>t,[t])}async function or(e,t,r){const n=t.getQueryCache().build(t,{queryKey:r});n.setState({data:[],status:"success"});const i=[];var o=!1,a=!1,u;try{for(var c=(0,is.default)(e),l;o=!(l=await c.next()).done;o=!1){const h=l.value;i.push(h),n.setState({data:[...i]})}}catch(h){a=!0,u=h}finally{try{o&&c.return!=null&&await c.return()}finally{if(a)throw u}}return i}var R=ce(ge(),1);function os(e){const{client:t,queryClient:r}=e,s=t instanceof De?t:nt(t);return{infiniteQueryOptions:(n,i,o)=>{var a,u;const c=((a=i[1])===null||a===void 0?void 0:a.input)===W,l=async h=>{var p;const v=(0,R.default)((0,R.default)({},o),{},{trpc:(0,R.default)((0,R.default)({},o?.trpc),!(o==null||(p=o.trpc)===null||p===void 0)&&p.abortOnUnmount?{signal:h.signal}:{signal:null})});return await s.query(...H(i,v,{direction:h.direction,pageParam:h.pageParam}))};return Object.assign((0,R.default)((0,R.default)({},o),{},{initialData:o?.initialData,queryKey:i,queryFn:c?W:l,initialPageParam:(u=o?.initialCursor)!==null&&u!==void 0?u:null}),{trpc:Je({path:n})})},queryOptions:(n,i,o)=>{var a;const u=((a=i[1])===null||a===void 0?void 0:a.input)===W,c=async l=>{var h;const p=(0,R.default)((0,R.default)({},o),{},{trpc:(0,R.default)((0,R.default)({},o?.trpc),!(o==null||(h=o.trpc)===null||h===void 0)&&h.abortOnUnmount?{signal:l.signal}:{signal:null})}),v=await s.query(...H(i,p));return Kt(v)?or(v,r,i):v};return Object.assign((0,R.default)((0,R.default)({},o),{},{initialData:o?.initialData,queryKey:i,queryFn:u?W:c}),{trpc:Je({path:n})})},fetchQuery:(n,i)=>r.fetchQuery((0,R.default)((0,R.default)({},i),{},{queryKey:n,queryFn:()=>s.query(...H(n,i))})),fetchInfiniteQuery:(n,i)=>{var o;return r.fetchInfiniteQuery((0,R.default)((0,R.default)({},i),{},{queryKey:n,queryFn:({pageParam:a,direction:u})=>s.query(...H(n,i,{pageParam:a,direction:u})),initialPageParam:(o=i?.initialCursor)!==null&&o!==void 0?o:null}))},prefetchQuery:(n,i)=>r.prefetchQuery((0,R.default)((0,R.default)({},i),{},{queryKey:n,queryFn:()=>s.query(...H(n,i))})),prefetchInfiniteQuery:(n,i)=>{var o;return r.prefetchInfiniteQuery((0,R.default)((0,R.default)({},i),{},{queryKey:n,queryFn:({pageParam:a,direction:u})=>s.query(...H(n,i,{pageParam:a,direction:u})),initialPageParam:(o=i?.initialCursor)!==null&&o!==void 0?o:null}))},ensureQueryData:(n,i)=>r.ensureQueryData((0,R.default)((0,R.default)({},i),{},{queryKey:n,queryFn:()=>s.query(...H(n,i))})),invalidateQueries:(n,i,o)=>r.invalidateQueries((0,R.default)((0,R.default)({},i),{},{queryKey:n}),o),resetQueries:(n,i,o)=>r.resetQueries((0,R.default)((0,R.default)({},i),{},{queryKey:n}),o),refetchQueries:(n,i,o)=>r.refetchQueries((0,R.default)((0,R.default)({},i),{},{queryKey:n}),o),cancelQuery:(n,i)=>r.cancelQueries({queryKey:n},i),setQueryData:(n,i,o)=>r.setQueryData(n,i,o),setQueriesData:(n,i,o,a)=>r.setQueriesData((0,R.default)((0,R.default)({},i),{},{queryKey:n}),o,a),getQueryData:n=>r.getQueryData(n),setInfiniteQueryData:(n,i,o)=>r.setQueryData(n,i,o),getInfiniteQueryData:n=>r.getQueryData(n),setMutationDefaults:(n,i)=>{const o=n[0],a=u=>s.mutation(...H([o,{input:u}],e));return r.setMutationDefaults(n,typeof i=="function"?i({canonicalMutationFn:a}):i)},getMutationDefaults:n=>r.getMutationDefaults(n),isMutating:n=>r.isMutating((0,R.default)((0,R.default)({},n),{},{exact:!0}))}}var y=ce(ge());const gt=(e,t)=>new Proxy(e,{get(s,n){return t(n),s[n]}});function as(e){var t,r;const s=(t=void 0)!==null&&t!==void 0?t:g=>g.originalFn(),n=(r=void 0)!==null&&r!==void 0?r:Xn,i=Gn,o=g=>{var b;const{abortOnUnmount:f=!1,queryClient:m,ssrContext:P}=g,[O,w]=_.useState((b=g.ssrState)!==null&&b!==void 0?b:!1),S=g.client instanceof De?g.client:nt(g.client),I=_.useMemo(()=>os({client:S,queryClient:m}),[S,m]),Q=_.useMemo(()=>(0,y.default)({abortOnUnmount:f,queryClient:m,client:S,ssrContext:P??null,ssrState:O},I),[f,S,I,m,P,O]);return _.useEffect(()=>{w(D=>D?"mounted":!1)},[]),Ot.jsx(n.Provider,{value:Q,children:g.children})};function a(){const g=_.useContext(n);if(!g)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return g}function u(g,b){var f;const{queryClient:m,ssrState:P}=a();return P&&P!=="mounted"&&((f=m.getQueryCache().find({queryKey:g}))===null||f===void 0?void 0:f.state.status)==="error"?(0,y.default)({retryOnMount:!1},b):b}function c(g,b,f){var m,P,O,w,S;const I=a(),{abortOnUnmount:Q,client:D,ssrState:M,queryClient:F,prefetchQuery:A}=I,K=V(g,b,"query"),Z=F.getQueryDefaults(K),L=b===W;typeof window>"u"&&M==="prepass"&&(f==null||(m=f.trpc)===null||m===void 0?void 0:m.ssr)!==!1&&((P=f?.enabled)!==null&&P!==void 0?P:Z?.enabled)!==!1&&!L&&!F.getQueryCache().find({queryKey:K})&&A(K,f);const G=u(K,(0,y.default)((0,y.default)({},Z),f)),T=(O=(w=f==null||(S=f.trpc)===null||S===void 0?void 0:S.abortOnUnmount)!==null&&w!==void 0?w:void 0)!==null&&O!==void 0?O:Q,q=Dr((0,y.default)((0,y.default)({},G),{},{queryKey:K,queryFn:L?b:async N=>{const ne=(0,y.default)((0,y.default)({},G),{},{trpc:(0,y.default)((0,y.default)({},G?.trpc),T?{signal:N.signal}:{signal:null})}),Te=await D.query(...H(K,ne));return Kt(Te)?or(Te,F,K):Te}}),F);return q.trpc=he({path:g}),q}function l(g,b,f){var m,P,O;const w=a(),S=V(g,b,"query"),I=b===W,Q=(m=(P=f==null||(O=f.trpc)===null||O===void 0?void 0:O.abortOnUnmount)!==null&&P!==void 0?P:void 0)!==null&&m!==void 0?m:w.abortOnUnmount;kr((0,y.default)((0,y.default)({},f),{},{queryKey:S,queryFn:I?b:D=>{const M={trpc:(0,y.default)((0,y.default)({},f?.trpc),Q?{signal:D.signal}:{})};return w.client.query(...H(S,M))}}))}function h(g,b,f){var m,P,O;const w=a(),S=V(g,b,"query"),I=(m=(P=f==null||(O=f.trpc)===null||O===void 0?void 0:O.abortOnUnmount)!==null&&P!==void 0?P:void 0)!==null&&m!==void 0?m:w.abortOnUnmount,Q=Tr((0,y.default)((0,y.default)({},f),{},{queryKey:S,queryFn:D=>{const M=(0,y.default)((0,y.default)({},f),{},{trpc:(0,y.default)((0,y.default)({},f?.trpc),I?{signal:D.signal}:{signal:null})});return w.client.query(...H(S,M))}}),w.queryClient);return Q.trpc=he({path:g}),[Q.data,Q]}function p(g,b){const{client:f,queryClient:m}=a(),P=Se(g),O=m.defaultMutationOptions(m.getMutationDefaults(P)),w=Lr((0,y.default)((0,y.default)({},b),{},{mutationKey:P,mutationFn:S=>f.mutation(...H([g,{input:S}],b)),onSuccess(...S){var I,Q;return s({originalFn:()=>{var M,F,A;return(M=b==null||(F=b.onSuccess)===null||F===void 0?void 0:F.call(b,...S))!==null&&M!==void 0?M:O==null||(A=O.onSuccess)===null||A===void 0?void 0:A.call(O,...S)},queryClient:m,meta:(I=(Q=b?.meta)!==null&&Q!==void 0?Q:O?.meta)!==null&&I!==void 0?I:{}})}}),m);return w.trpc=he({path:g}),w}const v={data:void 0,error:null,status:"idle"},x={data:void 0,error:null,status:"connecting"};/* istanbul ignore next -- @preserve */function d(g,b,f){var m;const P=(m=f?.enabled)!==null&&m!==void 0?m:b!==W,O=te(V(g,b,"any")),{client:w}=a(),S=_.useRef(f);_.useEffect(()=>{S.current=f});const[I]=_.useState(new Set([])),Q=_.useCallback(L=>{I.add(L)},[I]),D=_.useRef(null),M=_.useCallback(L=>{const G=A.current,T=A.current=L(G);let q=!1;for(const N of I)if(G[N]!==T[N]){q=!0;break}q&&Z(gt(T,Q))},[Q,I]),F=_.useCallback(()=>{var L;if((L=D.current)===null||L===void 0||L.unsubscribe(),!P){M(()=>(0,y.default)((0,y.default)({},v),{},{reset:F}));return}M(()=>(0,y.default)((0,y.default)({},x),{},{reset:F}));const G=w.subscription(g.join("."),b??void 0,{onStarted:()=>{var T,q;(T=(q=S.current).onStarted)===null||T===void 0||T.call(q),M(N=>(0,y.default)((0,y.default)({},N),{},{status:"pending",error:null}))},onData:T=>{var q,N;(q=(N=S.current).onData)===null||q===void 0||q.call(N,T),M(ne=>(0,y.default)((0,y.default)({},ne),{},{status:"pending",data:T,error:null}))},onError:T=>{var q,N;(q=(N=S.current).onError)===null||q===void 0||q.call(N,T),M(ne=>(0,y.default)((0,y.default)({},ne),{},{status:"error",error:T}))},onConnectionStateChange:T=>{M(q=>{switch(T.state){case"idle":return(0,y.default)((0,y.default)({},q),{},{status:T.state,error:null,data:void 0});case"connecting":return(0,y.default)((0,y.default)({},q),{},{error:T.error,status:T.state});case"pending":return q}})},onComplete:()=>{var T,q;(T=(q=S.current).onComplete)===null||T===void 0||T.call(q),M(N=>(0,y.default)((0,y.default)({},N),{},{status:"idle",error:null,data:void 0}))}});D.current=G},[w,O,P,M]);_.useEffect(()=>(F(),()=>{var L;(L=D.current)===null||L===void 0||L.unsubscribe()}),[F]);const A=_.useRef(P?(0,y.default)((0,y.default)({},x),{},{reset:F}):(0,y.default)((0,y.default)({},v),{},{reset:F})),[K,Z]=_.useState(gt(A.current,Q));return K}function j(g,b,f){var m,P,O,w,S;const{client:I,ssrState:Q,prefetchInfiniteQuery:D,queryClient:M,abortOnUnmount:F}=a(),A=V(g,b,"infinite"),K=M.getQueryDefaults(A),Z=b===W;typeof window>"u"&&Q==="prepass"&&(f==null||(m=f.trpc)===null||m===void 0?void 0:m.ssr)!==!1&&((P=f?.enabled)!==null&&P!==void 0?P:K?.enabled)!==!1&&!Z&&!M.getQueryCache().find({queryKey:A})&&D(A,(0,y.default)((0,y.default)({},K),f));const L=u(A,(0,y.default)((0,y.default)({},K),f)),G=(O=f==null||(w=f.trpc)===null||w===void 0?void 0:w.abortOnUnmount)!==null&&O!==void 0?O:F,T=Kr((0,y.default)((0,y.default)({},L),{},{initialPageParam:(S=f.initialCursor)!==null&&S!==void 0?S:null,persister:f.persister,queryKey:A,queryFn:Z?b:q=>{var N;const ne=(0,y.default)((0,y.default)({},L),{},{trpc:(0,y.default)((0,y.default)({},L?.trpc),G?{signal:q.signal}:{signal:null})});return I.query(...H(A,ne,{pageParam:(N=q.pageParam)!==null&&N!==void 0?N:f.initialCursor,direction:q.direction}))}}),M);return T.trpc=he({path:g}),T}function C(g,b,f){var m,P,O;const w=a(),S=V(g,b,"infinite"),I=w.queryClient.getQueryDefaults(S),Q=b===W,D=u(S,(0,y.default)((0,y.default)({},I),f)),M=(m=f==null||(P=f.trpc)===null||P===void 0?void 0:P.abortOnUnmount)!==null&&m!==void 0?m:w.abortOnUnmount;Ur((0,y.default)((0,y.default)({},f),{},{initialPageParam:(O=f.initialCursor)!==null&&O!==void 0?O:null,queryKey:S,queryFn:Q?b:F=>{var A;const K=(0,y.default)((0,y.default)({},D),{},{trpc:(0,y.default)((0,y.default)({},D?.trpc),M?{signal:F.signal}:{})});return w.client.query(...H(S,K,{pageParam:(A=F.pageParam)!==null&&A!==void 0?A:f.initialCursor,direction:F.direction}))}}))}function E(g,b,f){var m,P,O;const w=a(),S=V(g,b,"infinite"),I=w.queryClient.getQueryDefaults(S),Q=u(S,(0,y.default)((0,y.default)({},I),f)),D=(m=f==null||(P=f.trpc)===null||P===void 0?void 0:P.abortOnUnmount)!==null&&m!==void 0?m:w.abortOnUnmount,M=Fr((0,y.default)((0,y.default)({},f),{},{initialPageParam:(O=f.initialCursor)!==null&&O!==void 0?O:null,queryKey:S,queryFn:F=>{var A;const K=(0,y.default)((0,y.default)({},Q),{},{trpc:(0,y.default)((0,y.default)({},Q?.trpc),D?{signal:F.signal}:{})});return w.client.query(...H(S,K,{pageParam:(A=F.pageParam)!==null&&A!==void 0?A:f.initialCursor,direction:F.direction}))}}),w.queryClient);return M.trpc=he({path:g}),[M.data,M]}return{Provider:o,createClient:i,useContext:a,useUtils:a,useQuery:c,usePrefetchQuery:l,useSuspenseQuery:h,useQueries:(g,b)=>{const{ssrState:f,queryClient:m,prefetchQuery:P,client:O}=a(),w=bt(O),S=g(w);if(typeof window>"u"&&f==="prepass")for(const Q of S){var I;const D=Q;((I=D.trpc)===null||I===void 0?void 0:I.ssr)!==!1&&!m.getQueryCache().find({queryKey:D.queryKey})&&P(D.queryKey,D)}return Lt({queries:S.map(Q=>(0,y.default)((0,y.default)({},Q),{},{queryKey:Q.queryKey})),combine:b?.combine},m)},useSuspenseQueries:g=>{const{queryClient:b,client:f}=a(),m=bt(f),P=g(m),O=Ar({queries:P.map(w=>(0,y.default)((0,y.default)({},w),{},{queryFn:w.queryFn,queryKey:w.queryKey}))},b);return[O.map(w=>w.data),O]},useMutation:p,useSubscription:d,useInfiniteQuery:j,usePrefetchInfiniteQuery:C,useSuspenseInfiniteQuery:E}}function us(e){const t=Yn(e);return tt(r=>r==="useContext"||r==="useUtils"?()=>{const s=e.useUtils();return _.useMemo(()=>rs(s),[s])}:e.hasOwnProperty(r)?e[r]:t[r])}function ps(e){const t=as();return us(t)}export{fs as Q,Qe as T,hs as a,ps as c,ds as h};
