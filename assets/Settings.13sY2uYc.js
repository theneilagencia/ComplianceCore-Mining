import{j as e}from"./ui.CMOn6A-A.js";import{u as f,a as c}from"./vendor.DqptLLSw.js";const x="";function v(){const[,l]=f(),[t,a]=c.useState(null),[p,m]=c.useState(!0),[r,o]=c.useState(!1),[d,n]=c.useState(""),[g,i]=c.useState("");c.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await fetch(`${x}/api/settings`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch settings");const b=await s.json();a(b.settings)}catch(s){n(s.message)}finally{m(!1)}},h=async()=>{if(t){o(!0),n(""),i("");try{if(!(await fetch(`${x}/api/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({fullName:t.fullName,company:t.company,phone:t.phone,language:t.language,timezone:t.timezone,notifications:t.notifications})})).ok)throw new Error("Failed to update settings");i("Configurações salvas com sucesso!"),setTimeout(()=>i(""),3e3)}catch(s){n(s.message)}finally{o(!1)}}};return p?e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:88",className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:89",className:"text-center",children:[e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:90",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{"data-loc":"client/src/pages/Settings.tsx:91",className:"mt-4 text-gray-400",children:"Carregando configurações..."})]})}):t?e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:108",className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:110",className:"bg-white/5 shadow-sm border-b border-white/20",children:e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:111",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:112",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:113",className:"flex items-center gap-4",children:[e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:114",className:"w-12 h-12 bg-gradient-to-br from-green-600 to-teal-600 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"JI"}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:117",children:[e.jsx("h1",{"data-loc":"client/src/pages/Settings.tsx:118",className:"text-2xl font-bold text-white",children:"Configurações"}),e.jsx("p",{"data-loc":"client/src/pages/Settings.tsx:119",className:"text-sm text-gray-400",children:"Gerencie suas preferências e conta"})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:122",className:"flex gap-3",children:[e.jsx("button",{"data-loc":"client/src/pages/Settings.tsx:123",onClick:()=>l("/dashboard"),className:"px-4 py-2 text-gray-300 hover:text-white font-medium transition-colors",children:"Voltar ao Dashboard"}),e.jsx("button",{"data-loc":"client/src/pages/Settings.tsx:129",onClick:()=>{l("/login")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Sair"})]})]})})}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:143",className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d&&e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:145",className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{"data-loc":"client/src/pages/Settings.tsx:146",className:"text-red-800",children:["Erro: ",d]})}),g&&e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:151",className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{"data-loc":"client/src/pages/Settings.tsx:152",className:"text-green-800",children:g})}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:157",className:"bg-white/5 rounded-xl shadow-sm border border-white/20 overflow-hidden",children:[e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:159",className:"p-6 border-b border-white/20",children:[e.jsx("h2",{"data-loc":"client/src/pages/Settings.tsx:160",className:"text-lg font-semibold text-white mb-4",children:"Informações Pessoais"}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:161",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:162",children:[e.jsx("label",{"data-loc":"client/src/pages/Settings.tsx:163",className:"block text-sm font-medium text-gray-300 mb-2",children:"Nome Completo"}),e.jsx("input",{"data-loc":"client/src/pages/Settings.tsx:166",type:"text",value:t.fullName||"",onChange:s=>a({...t,fullName:s.target.value}),className:"w-full px-4 py-2 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:173",children:[e.jsx("label",{"data-loc":"client/src/pages/Settings.tsx:174",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{"data-loc":"client/src/pages/Settings.tsx:177",type:"email",value:t.email,disabled:!0,className:"w-full px-4 py-2 border border-white/20 rounded-lg bg-[#000020] text-gray-500"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:184",children:[e.jsx("label",{"data-loc":"client/src/pages/Settings.tsx:185",className:"block text-sm font-medium text-gray-300 mb-2",children:"Empresa"}),e.jsx("input",{"data-loc":"client/src/pages/Settings.tsx:188",type:"text",value:t.company||"",onChange:s=>a({...t,company:s.target.value}),className:"w-full px-4 py-2 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:195",children:[e.jsx("label",{"data-loc":"client/src/pages/Settings.tsx:196",className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefone"}),e.jsx("input",{"data-loc":"client/src/pages/Settings.tsx:199",type:"tel",value:t.phone||"",onChange:s=>a({...t,phone:s.target.value}),className:"w-full px-4 py-2 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:210",className:"p-6 border-b border-white/20",children:[e.jsx("h2",{"data-loc":"client/src/pages/Settings.tsx:211",className:"text-lg font-semibold text-white mb-4",children:"Preferências"}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:212",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:213",children:[e.jsx("label",{"data-loc":"client/src/pages/Settings.tsx:214",className:"block text-sm font-medium text-gray-300 mb-2",children:"Idioma"}),e.jsxs("select",{"data-loc":"client/src/pages/Settings.tsx:217",value:t.language||"pt-BR",onChange:s=>a({...t,language:s.target.value}),className:"w-full px-4 py-2 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{"data-loc":"client/src/pages/Settings.tsx:222",value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{"data-loc":"client/src/pages/Settings.tsx:223",value:"en-US",children:"English (US)"}),e.jsx("option",{"data-loc":"client/src/pages/Settings.tsx:224",value:"es-ES",children:"Español"})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:227",children:[e.jsx("label",{"data-loc":"client/src/pages/Settings.tsx:228",className:"block text-sm font-medium text-gray-300 mb-2",children:"Fuso Horário"}),e.jsxs("select",{"data-loc":"client/src/pages/Settings.tsx:231",value:t.timezone||"America/Sao_Paulo",onChange:s=>a({...t,timezone:s.target.value}),className:"w-full px-4 py-2 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{"data-loc":"client/src/pages/Settings.tsx:236",value:"America/Sao_Paulo",children:"São Paulo (GMT-3)"}),e.jsx("option",{"data-loc":"client/src/pages/Settings.tsx:237",value:"America/New_York",children:"New York (GMT-5)"}),e.jsx("option",{"data-loc":"client/src/pages/Settings.tsx:238",value:"Europe/London",children:"London (GMT+0)"})]})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:245",className:"p-6 bg-[#000020]",children:[e.jsx("h2",{"data-loc":"client/src/pages/Settings.tsx:246",className:"text-lg font-semibold text-white mb-4",children:"Informações da Conta"}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:247",className:"text-sm text-gray-400",children:[e.jsxs("p",{"data-loc":"client/src/pages/Settings.tsx:248",children:["Conta criada em: ",new Date(t.createdAt).toLocaleDateString("pt-BR")]}),e.jsxs("p",{"data-loc":"client/src/pages/Settings.tsx:249",className:"mt-2",children:["ID da conta: ",t.id]})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Settings.tsx:255",className:"mt-6 flex justify-end gap-4",children:[e.jsx("button",{"data-loc":"client/src/pages/Settings.tsx:256",onClick:()=>l("/dashboard"),className:"px-6 py-2 text-gray-300 hover:text-white font-medium transition-colors",children:"Cancelar"}),e.jsx("button",{"data-loc":"client/src/pages/Settings.tsx:262",onClick:h,disabled:r,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:shadow-lg transition-all font-medium disabled:opacity-50",children:r?"Salvando...":"Salvar Alterações"})]})]})]}):e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:99",className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:e.jsx("div",{"data-loc":"client/src/pages/Settings.tsx:100",className:"text-center",children:e.jsx("p",{"data-loc":"client/src/pages/Settings.tsx:101",className:"text-red-600",children:"Erro ao carregar configurações"})})})}export{v as default};
