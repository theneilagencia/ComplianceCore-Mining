import{j as s}from"./ui.CMOn6A-A.js";import{u as x,a as l}from"./vendor.DqptLLSw.js";import{u as b}from"./index.DqphIITB.js";import"./trpc.DEyng-9d.js";import"./icons.2ttFni2B.js";const g="";function w(){const{user:o}=b(),[,a]=x(),[e,c]=l.useState(null),[i,d]=l.useState(!0);l.useEffect(()=>{console.log("üéØ QIVO Dashboard v1.2.x - Design System Active"),console.log("üë§ User:",o),console.log("üîê User Role:",o?.role),n()},[]);const n=async()=>{try{const t=await fetch(`${g}/api/license/subscription`,{credentials:"include"});if(!t.ok){if(t.status===401){a("/login");return}throw new Error("Failed to fetch license")}const h=await t.json();c(h)}catch(t){console.error("Error fetching license:",t)}finally{d(!1)}};if(i)return s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:45",className:"min-h-screen bg-[#000020] flex items-center justify-center",children:s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:46",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const r=e?.stats?.reportsUsed<e?.stats?.reportsLimit;return e?.stats?.projectsActive<e?.stats?.projectsLimit,s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:55",className:"min-h-screen bg-gradient-to-br from-[#000020] via-[#171a4a] to-[#2f2c79]",children:s.jsxs("main",{"data-loc":"client/src/pages/Dashboard.tsx:58",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:60",className:"backdrop-blur-md bg-white/5 border border-white/10 rounded-2xl shadow-lg p-8 mb-8",children:[s.jsx("h2",{"data-loc":"client/src/pages/Dashboard.tsx:61",className:"text-3xl font-bold text-white mb-2",children:"Bem-vindo ao QIVO Mining"}),s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:64",className:"text-gray-300 text-lg",children:"Governan√ßa T√©cnica, Regulat√≥ria e Ambiental para Minera√ß√£o"})]}),s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:70",className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl shadow-lg p-8 mb-8 text-white",children:s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:71",className:"flex items-center justify-between",children:[s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:72",children:[s.jsxs("h3",{"data-loc":"client/src/pages/Dashboard.tsx:73",className:"text-xl font-semibold mb-2",children:["Seu Plano: ",e?.license?.plan||"START"]}),s.jsxs("p",{"data-loc":"client/src/pages/Dashboard.tsx:74",className:"text-blue-100",children:[e?.stats?.reportsLimit-e?.stats?.reportsUsed," relat√≥rios restantes este m√™s"]})]}),s.jsx("button",{"data-loc":"client/src/pages/Dashboard.tsx:78",onClick:()=>a("/pricing"),className:"px-6 py-3 bg-white/5 text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:"Fazer Upgrade"})]})}),s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:88",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:90",onClick:()=>{r?a("/reports/generate"):alert("Voc√™ atingiu o limite de relat√≥rios do seu plano. Fa√ßa upgrade para continuar!")},disabled:!r,className:`p-6 rounded-xl shadow-lg text-left transition-all ${r?"backdrop-blur-md bg-white/5 border border-white/10 hover:bg-white/10 hover:shadow-xl hover:-translate-y-1 cursor-pointer":"backdrop-blur-md bg-white/5 border border-white/10 cursor-not-allowed opacity-60"}`,children:[s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:105",className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{"data-loc":"client/src/pages/Dashboard.tsx:106",className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{"data-loc":"client/src/pages/Dashboard.tsx:107",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:110",className:"text-lg font-semibold text-white mb-2",children:"Gerar Relat√≥rio"}),s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:111",className:"text-gray-400 text-sm",children:"Crie relat√≥rios t√©cnicos de minera√ß√£o com IA"}),!r&&s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:115",className:"text-red-600 text-xs mt-2 font-semibold",children:"Limite atingido - Fa√ßa upgrade"})]}),s.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:122",onClick:()=>a("/reports/audit"),className:"p-6 backdrop-blur-md bg-white/5 border border-white/10 rounded-xl shadow-lg hover:bg-white/10 hover:shadow-xl hover:-translate-y-1 transition-all text-left",children:[s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:126",className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{"data-loc":"client/src/pages/Dashboard.tsx:127",className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{"data-loc":"client/src/pages/Dashboard.tsx:128",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:131",className:"text-lg font-semibold text-white mb-2",children:"Auditoria KRCI"}),s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:132",className:"text-gray-400 text-sm",children:"Audite crit√©rios de Key Risk and Critical Information"})]}),s.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:140",onClick:()=>a("/reports/regulatory"),className:"p-6 backdrop-blur-md bg-white/5 border border-white/10 rounded-xl shadow-lg hover:bg-white/10 hover:shadow-xl hover:-translate-y-1 transition-all text-left",children:[s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:144",className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{"data-loc":"client/src/pages/Dashboard.tsx:145",className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{"data-loc":"client/src/pages/Dashboard.tsx:146",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),s.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:149",className:"text-lg font-semibold text-white mb-2",children:"Bridge Regulat√≥ria"}),s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:150",className:"text-gray-400 text-sm",children:"Convers√£o entre padr√µes regulat√≥rios globais"})]}),s.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:160",onClick:()=>a("/radar"),className:"p-6 bg-white/5 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all text-left",children:[s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:164",className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{"data-loc":"client/src/pages/Dashboard.tsx:165",className:"w-6 h-6 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{"data-loc":"client/src/pages/Dashboard.tsx:166",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:169",className:"text-lg font-semibold text-white mb-2",children:"Radar Regulat√≥rio"}),s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:170",className:"text-gray-400 text-sm",children:"Monitoramento de mudan√ßas regulat√≥rias"})]}),o?.role==="admin"&&s.jsxs("button",{"data-loc":"client/src/pages/Dashboard.tsx:181",onClick:()=>a("/admin"),className:"p-6 bg-gradient-to-br from-red-600 to-red-800 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all text-left border-2 border-red-500",children:[s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:185",className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center mb-4",children:s.jsxs("svg",{"data-loc":"client/src/pages/Dashboard.tsx:186",className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{"data-loc":"client/src/pages/Dashboard.tsx:187",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{"data-loc":"client/src/pages/Dashboard.tsx:188",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:191",className:"text-lg font-semibold text-white mb-2",children:"üîê Painel de Administra√ß√£o"}),s.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:192",className:"text-red-100 text-sm font-medium",children:"Gerenciar usu√°rios, assinaturas e receita"})]})]}),s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:200",className:"backdrop-blur-md bg-white/5 border border-white/10 rounded-2xl shadow-lg p-8",children:[s.jsx("h3",{"data-loc":"client/src/pages/Dashboard.tsx:201",className:"text-xl font-bold text-white mb-6",children:"Uso do Plano"}),s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:202",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:204",children:[s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:205",className:"flex items-center justify-between mb-2",children:[s.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:206",className:"text-gray-300 font-medium",children:"Relat√≥rios Este M√™s"}),s.jsxs("span",{"data-loc":"client/src/pages/Dashboard.tsx:207",className:"text-white font-bold",children:[e?.stats?.reportsUsed||0," / ",e?.stats?.reportsLimit||1]})]}),s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:211",className:"w-full bg-slate-200 rounded-full h-3",children:s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:212",className:"bg-[#2f2c79] h-3 rounded-full transition-all",style:{width:`${(e?.stats?.reportsUsed||0)/(e?.stats?.reportsLimit||1)*100}%`}})})]}),s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:222",children:[s.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:223",className:"flex items-center justify-between mb-2",children:[s.jsx("span",{"data-loc":"client/src/pages/Dashboard.tsx:224",className:"text-gray-300 font-medium",children:"Projetos Ativos"}),s.jsxs("span",{"data-loc":"client/src/pages/Dashboard.tsx:225",className:"text-white font-bold",children:[e?.stats?.projectsActive||0," / ",e?.stats?.projectsLimit===999999||e?.stats?.projectsLimit===-1?"Ilimitado":e?.stats?.projectsLimit||1]})]}),s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:229",className:"w-full bg-slate-200 rounded-full h-3",children:s.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:230",className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${(e?.stats?.projectsActive||0)/(e?.stats?.projectsLimit||1)*100}%`}})})]})]})]})]})})}export{w as default};
